class ObjectPool<<$DataType>>
  PROPERTIES
    available = $DataType[]

  METHODS
    method on_use->$DataType
      if (available.is_empty) return $DataType()
      return available.remove_last

    method on_end_use( object:$DataType )
      # override with desired object cleanup
      if ($DataType instanceOf ListType) object.clear
endClass

class StringPool : ObjectPool<<String>>
  METHODS
    method on_end_use( builder:String )
      available.add( builder.clear )
endClass

